!function(){function m(e){return e.replace(/[\'\"<>\=\$\\]/g,function(e){return"&#"+e.charCodeAt(0)+";"})}var x=function(e){return e.replace(/[^-A-Za-z0-9_. ]/g,function(e){if(e.charCodeAt(0)<128){var t=e.charCodeAt(0).toString(16);return 1==t.length&&(t="0"+t),("%"+t).toUpperCase()}return encodeURIComponent(e[0]).toUpperCase()}).replace(/ /g,"+")},o=/\$\$(.|\n)*?\$\$|\B\$[^<$]*?\$\B|\\\((.|\n)*?\\\)|\\\[(.|\n)*?\\\]|\[tex\].*?\[\/tex\]/g,s=/(\$\$(.|\n)*?\$\$|\B\$[^<$]*?\$\B|\\\((.|\n)*?\\\)|\\\[(.|\n)*?\\\]|\[tex\].*?\[\/tex\])/;window.mathSite||(window.mathSite=window.location.hostname+window.location.pathname+window.location.search),window.mathServer||(window.mathServer="//replacemath.appspot.com/?tex="),window.mathPreamble||(window.mathPreamble="\\large \\parstyle "),window.noAutoPng||/MSIE [56]/.test(navigator.userAgent)||/\\png /.test(window.mathPreamble)||(window.mathPreamble+="\\png "),/!/.test(window.mathServer)&&(x=function(e){return e.replace(/[\\&%\n\r'"<>+=.*#;_?]/g,function(e){var t=e.charCodeAt(0).toString(16);return 1==t.length&&(t="0"+t),"_"+t}).replace(/ /g,".")});var a,r=document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").viewBox&&!window.mathDisableSVG&&DOMParser&&document.querySelector&&document.getElementsByTagName("head").length&&!/disableSVG/.test(window.location.search);r||((a=new Image).src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==");function S(e){window.console&&window.console.log(e)}var e=window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,t=window.XDomainRequest,n=e||t,l=n&&window.postMessage&&window.JSON&&r&&!1,h=window.mathForceLegacy||!(r||n),w=document.createElement("div"),p=window.mathChecker||function(e){return window.mathNoDollar?/^(\$\$|\\\(|\\\[|\[tex\])/.test(e):!!/[_\\^]|\$\$|\w\(|\[tex\]/.test(e)||!/[A-Za-z]{2,} [A-Za-z]{2,}/.test(e)&&!!/^\$[ \t\n]/.test(e)==!!/[ \t\n]\$$/.test(e)};window.mathRequests||(window.mathRequests={}),window.mathRequestList||(window.mathRequestList=[]),void 0===window.maxMathID&&(window.maxMathID=0);function c(e){w.innerHTML=e;var t=w.firstChild.nodeValue;if(t=(t=(t=(t=(t=t.replace(/[\r\n]+/g," ")).replace(/\xA0/g," ")).replace(/\u2013/g,"-")).replace(/\\hbar/g,"\\hbar{}")).replace(/  +/g," "),!p(t))return e;t=t.replace(/\[\/?tex\]/g," $ ");var n,a,r,o,s,l=maxMathID++,c="math"+l,d='<span class="math" id="'+c+'">'+e+"</span>";return h?(n=mathServer+x(mathPreamble+t),(/msie [56]/i.test(navigator.userAgent)||window.mathForceLegacy)&&(n+="&fmt=gif"),a=m(t),(r=new Image).onload=(o=c,s=n,function(){var e,t=document.getElementById(o);t?(e="<img class='mathimg' src='"+s+"' alt='"+a+"' title='"+a+"' />",t.innerHTML=e):S("No span with ID "+ids[i])}),r.src=n):(mathRequests[t]||(mathRequests[t]=[],mathRequestList.push(t)),mathRequests[t].push("math"+l)),d}function y(e){var t=document.createElement("script");t.type="text/javascript",document.getElementsByTagName("head")[0].appendChild(t),e=e.replace(/^http:\/\/mathcache.appspot.com/,"http://replacemath.appspot.com"),t.src=e}var d=[];function u(e){window.mathFrame||function(){var e=document.createElement("div");e.innerHTML='<iframe src="http://s3.amazonaws.com/replacemath/retriever.html" style="position: absolute; left:-999px;"></iframe>';var a=window.mathFrame=e.getElementsByTagName("iframe")[0];function t(e){var t,n;e.source&&e.source!==a.contentWindow||"http://s3.amazonaws.com"==e.origin&&(n=(t=JSON.parse(e.data)).fn,delete t.fn,"onSVGResponse"==n?onSVGResponse(t):"onURLResponse"==n?onURLResponse(t):window.console&&console.log("unexpected function name "+n))}a.onload=function(){for(var e=0;e<d.length;++e)a.contentWindow.postMessage(d[e],"http://s3.amazonaws.com");d={push:function(e){a.contentWindow.postMessage(e,"http://s3.amazonaws.com")}}},document.body.appendChild(e),"addEventListener"in window?window.addEventListener("message",t,!0):window.attachEvent("onmessage",t)}(),d.push(e)}var b={fig2dev:{"\\small":[2137.6,167,12.2,10,-2.2],"":[2120.9,183.7,13.42,11.5,-3.5],"\\large":[2087.5,217.1,15.86,14.5,-3.86],"\\Large":[2070.8,250.5,18.3,15,-3.3]},pydvi2svg:{"\\small":[175.03,10.114,10.114,10,-2.2],"":[175.412,11.238,11.238,11.5,-3.5],"\\large":[176.177,13.47,13.47,14.5,0],"\\Large":[179.096,16.164,16.164,15,-3.3]}};window.onURLResponse=function(e){for(tex in e)for(var t,r,n,a=e[tex],i=mathRequests[tex],o=0;o<i.length;++o){i?(t=i[o],r=m(tex),(n=new Image).onload=function(n,a){return function(){var e,t=document.getElementById(n);t?(e="<img class='mathimg' src='"+a+"' alt='"+r+"' title='"+r+"' />",t.innerHTML=e):S("No span with ID "+i[o])}}(t,(tex,a)),n.src=a):S("Returned TeX "+tex+" did not match anything!")}},window.onSVGResponse=function(e){for(tex in e)if(e.hasOwnProperty(tex))if(null!=e[tex]){var t=mathRequests[tex];if(t){for(var n=0;n<t.length;++n)if(t[n]){var a=document.getElementById(t[n]);if(a){t[n]=void 0;var r=(new DOMParser).parseFromString(e[tex],"text/xml"),i=document.adoptNode(r.querySelector("svg")),o=/^<\?xml version="1\.0" \?>/.test(e[tex])?"pydvi2svg":"fig2dev";if(/\\\[|\$\$/.test(tex)||"pydvi2svg"==o){if(!/\\\[|\$\$/.test(tex))try{c="";(s=/\\(small|large|Large)/.exec(mathPreamble))&&(c=s[0]);p=(d=b[o][c])[4],m=.9*parseFloat(getComputedStyle(a,null).fontSize),h=getComputedStyle(a,null).fontFamily,w=m/d[3],p=d[4];/Verdana|Trebuchet|Myriad|Georgia|Helvetica|sans/i.test(h)&&(w*=1.25),i.height.baseVal.valueInSpecifiedUnits*=w,i.width.baseVal.valueInSpecifiedUnits*=w}catch(e){window.console&&console.log(e)}}else try{var s,l="pydvi2svg"==o,c="";(s=/\\(small|large|Large)/.exec(mathPreamble))&&(c=s[0]);var d=b[o][c],m=3*parseFloat(getComputedStyle(a,null).fontSize)/4,h=getComputedStyle(a,null).fontFamily,w=m/d[3],p=d[4];/Verdana|Trebuchet|Myriad|Georgia|Helvetica|sans/i.test(h)&&(w*=1.25,p+=1);var u=i.viewBox.baseVal,g=u.y-d[0];.01<g&&(u.y=d[0],u.height+=g,i.height.baseVal.valueInSpecifiedUnits+=g/(l?1:13.63)),.01<(g=d[0]+d[1]-(u.y+u.height))&&(i.height.baseVal.valueInSpecifiedUnits+=g/(l?1:13.63),u.height+=g),i.style.verticalAlign=p*w/m*100+"%",i.height.baseVal.valueInSpecifiedUnits*=w,i.width.baseVal.valueInSpecifiedUnits*=w}catch(e){window.console&&console.log(e)}a.innerHTML="",a.appendChild(i)}else S("span #"+t[n]+" not found :(")}}else S("Returned TeX "+tex+" did not match anything!")}else f=tex,v=mathServer.replace(/\btex=/,"svgcb=onSVGResponse&pre="+x(mathPreamble))+"&tex="+x(f),y(v);var f,v},window.mathCleaner||(window.mathCleaner=function(e){var t=e,n=e.replace(/<\/?(br|p)\b.*?>/gi,"");return/[<>]/.test(n)||(t=n),t});var g=function(e,t){if(!/^math\d+$/.test(e.id)&&!/script/i.test(e.tagName)&&s.test(e.innerHTML)){if(/pre|code/i.test(e.tagName))return e.innerHTML=e.innerHTML.replace(/([\$\\])/g,m);for(var n=e.firstChild;n;n=n.nextSibling)n.tagName&&g(n,t);var a=e.innerHTML.replace(o,window.mathCleaner);e.innerHTML!=a&&(e.innerHTML=a);for(n=e.firstChild;n;n=n.nextSibling)if(3==n.nodeType&&s.test(n.nodeValue)){if(n==e.firstChild&&!n.nextSibling){e.innerHTML=e.innerHTML.replace(o,t||c);break}var r=e.insertBefore(document.createElement("span"),n);r.appendChild(n),(n=r).innerHTML=n.innerHTML.replace(o,t||c)}}};window.reportMathError=function(e){(new Image).src="http://s3.amazonaws.com/replacemath/error?url="+x(window.location)+"&ua="+x(navigator.userAgent)},window.execReplaceMath=function(e,t){try{g(e,t)}catch(e){reportMathError(e)}var n=r?"svgcb=onSVGResponse":"cb=onURLResponse"+(a&&1==a.width?"&data=1":"");try{!function(e){for(var t=mathServer.replace(/\btex=/,e+"&pre="+x(mathPreamble)),n=0;n<mathRequestList.length;){for(var a=t,r=0;n<mathRequestList.length;++n){var i=mathRequestList[n],o=a+"&tex="+x(i);if(++r,900<o.length&&1<r&&!l)break;a=o}l?(pieces=/(.*?)\?(.*)/.exec(a),pieces[1],u(pieces[2])):y(a)}}(n)}catch(e){reportMathError(e)}},window.replaceMath=function(e,t){if(window.$&&$.ready&&e===document.body){if(window.mathReplacementScheduled)return;window.mathReplacementScheduled=!0,$(function(){execReplaceMath(e,t)})}else execReplaceMath(e,t)}}();